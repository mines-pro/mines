<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mines Jackpot Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .game-container {
            background: rgba(20, 40, 80, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 50px rgba(0, 0, 0, 0.5);
            max-width: 600px;
            width: 100%;
        }

        .header {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }

        .title {
            font-size: 48px;
            font-weight: bold;
            background: linear-gradient(45deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            text-align: center;
        }

        .deposit-btn, .withdraw-btn {
            width: 100%;
            padding: 15px 20px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .deposit-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .withdraw-btn {
            background: linear-gradient(135deg, #ff9800, #f57c00);
            color: white;
        }

        .deposit-btn:hover, .withdraw-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .tile {
            aspect-ratio: 1;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-size: 40px;
            position: relative;
        }

        .tile.coin {
            background: transparent;
            border: none;
            position: relative;
        }

        .tile.bomb {
            background: linear-gradient(135deg, #4B0082, #8B008B);
        }

        .tile.treasure {
            background: transparent;
            border: none;
            position: relative;
        }

        .tile.unrevealed {
            background: linear-gradient(135deg, #B8860B, #DAA520);
            cursor: pointer;
        }

        .tile.unrevealed:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        }

        .tile.revealed {
            cursor: default;
        }

        .tile.exploded {
            animation: explode 0.5s ease-out;
        }

        @keyframes explode {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); background: #ff0000; }
            100% { transform: scale(1); }
        }

        .balance-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .balance-item {
            text-align: center;
        }

        .balance-label {
            font-size: 14px;
            color: #ccc;
            margin-bottom: 5px;
        }

        .balance-value {
            font-size: 24px;
            color: #FFD700;
            font-weight: bold;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .control-btn {
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .bet-btn {
            background: linear-gradient(135deg, #4169E1, #1E90FF);
            color: white;
        }

        .mines-btn {
            background: linear-gradient(135deg, #DC143C, #8B0000);
            color: white;
        }

        .cashout-btn {
            background: linear-gradient(135deg, #32CD32, #228B22);
            color: white;
        }

        .reset-btn {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            color: #000;
        }

        .control-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
        }

        .control-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
        }

        .modal h2 {
            color: #FFD700;
            margin-bottom: 20px;
            text-align: center;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            color: #fff;
            margin-bottom: 5px;
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #4169E1;
            border-radius: 5px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.9);
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }

        .confirm-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
        }

        .cancel-btn {
            background: linear-gradient(135deg, #f44336, #d32f2f);
            color: white;
        }

        .message {
            text-align: center;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }

        .message.success {
            background: rgba(76, 175, 80, 0.3);
            border: 2px solid #4CAF50;
            color: #4CAF50;
        }

        .message.error {
            background: rgba(244, 67, 54, 0.3);
            border: 2px solid #f44336;
            color: #f44336;
        }

        .message.info {
            background: rgba(33, 150, 243, 0.3);
            border: 2px solid #2196F3;
            color: #2196F3;
        }

        @media (max-width: 600px) {
            .title {
                font-size: 36px;
            }

            .game-grid {
                gap: 5px;
            }

            .tile {
                font-size: 30px;
            }

            .controls {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <div class="title">MINES</div>
            <button class="deposit-btn" onclick="openDepositModal()">ðŸ’° DEPOSIT</button>
            <button class="withdraw-btn" onclick="openWithdrawModal()">ðŸ’¸ WITHDRAW</button>
        </div>

        <div class="message" id="message"></div>

        <div class="game-grid" id="gameGrid"></div>

        <div class="balance-section">
            <div class="balance-item">
                <div class="balance-label">Balance</div>
                <div class="balance-value">Rs <span id="balance">0</span></div>
            </div>
            <div class="balance-item">
                <div class="balance-label">Current Win</div>
                <div class="balance-value">Rs <span id="currentWin">0</span></div>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn bet-btn" onclick="openBetModal()">
                ðŸ’° Bet Rs<span id="currentBet">100</span>
            </button>
            <button class="control-btn mines-btn" onclick="openMinesModal()">
                ðŸ’£ Mines: <span id="minesCount">3</span>
            </button>
            <button class="control-btn cashout-btn" id="cashoutBtn" onclick="cashout()" disabled>
                ðŸ’µ Cash Out
            </button>
            <button class="control-btn reset-btn" onclick="resetGame()">
                ðŸ”„ Reset
            </button>
        </div>
    </div>

    <!-- Deposit Modal -->
    <div class="modal" id="depositModal">
        <div class="modal-content">
            <h2>ðŸ’° Deposit Funds</h2>
            <div class="input-group">
                <label>Amount (Rs)</label>
                <input type="number" id="depositAmount" placeholder="Enter amount" min="100" step="100">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn confirm-btn" onclick="confirmDeposit()">Confirm</button>
                <button class="modal-btn cancel-btn" onclick="closeModal('depositModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Withdraw Modal -->
    <div class="modal" id="withdrawModal">
        <div class="modal-content">
            <h2>ðŸ’¸ Withdraw Funds</h2>
            <div class="input-group">
                <label>Amount (Rs)</label>
                <input type="number" id="withdrawAmount" placeholder="Enter amount" min="100" step="100">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn confirm-btn" onclick="confirmWithdraw()">Confirm</button>
                <button class="modal-btn cancel-btn" onclick="closeModal('withdrawModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Bet Modal -->
    <div class="modal" id="betModal">
        <div class="modal-content">
            <h2>ðŸ’° Set Bet Amount</h2>
            <div class="input-group">
                <label>Bet Amount (Rs)</label>
                <input type="number" id="betAmount" placeholder="Enter bet amount" min="10" max="10000" step="10" value="100">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn confirm-btn" onclick="confirmBet()">Confirm</button>
                <button class="modal-btn cancel-btn" onclick="closeModal('betModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Mines Modal -->
    <div class="modal" id="minesModal">
        <div class="modal-content">
            <h2>ðŸ’£ Set Number of Mines</h2>
            <div class="input-group">
                <label>Number of Mines (1-24)</label>
                <input type="number" id="minesInput" placeholder="Enter mines count" min="1" max="24" value="3">
            </div>
            <div class="modal-buttons">
                <button class="modal-btn confirm-btn" onclick="confirmMines()">Confirm</button>
                <button class="modal-btn cancel-btn" onclick="closeModal('minesModal')">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        let gameState = {
            balance: 0,
            totalDeposit: 0,
            totalWon: 0,
            totalLost: 0,
            currentBet: 100,
            minesCount: 3,
            currentWin: 0,
            gameActive: false,
            revealedTiles: 0,
            minePositions: [],
            treasurePosition: -1
        };

        // Initialize game
        function initGame() {
            createGrid();
            updateDisplay();
        }

        function createGrid() {
            const grid = document.getElementById('gameGrid');
            grid.innerHTML = '';
            
            for (let i = 0; i < 25; i++) {
                const tile = document.createElement('div');
                tile.className = 'tile unrevealed';
                tile.dataset.index = i;
                tile.onclick = () => revealTile(i);
                grid.appendChild(tile);
            }
        }

        function createSilverCoin() {
            return `
                <svg viewBox="0 0 100 100" style="width: 100%; height: 100%;">
                    <!-- Outer decorative circle -->
                    <circle cx="50" cy="50" r="48" fill="url(#silverGrad)" stroke="#999" stroke-width="1"/>
                    
                    <!-- Decorative pattern border -->
                    <circle cx="50" cy="50" r="42" fill="none" stroke="#AAA" stroke-width="0.5"/>
                    <circle cx="50" cy="50" r="38" fill="none" stroke="#CCC" stroke-width="1"/>
                    
                    <!-- Inner circle -->
                    <circle cx="50" cy="50" r="35" fill="url(#silverInner)" stroke="#999" stroke-width="1"/>
                    
                    <!-- Dollar symbol -->
                    <text x="50" y="62" font-size="36" font-weight="bold" fill="#777" text-anchor="middle" style="font-family: Arial, sans-serif;">$</text>
                    
                    <!-- Gradients -->
                    <defs>
                        <radialGradient id="silverGrad">
                            <stop offset="0%" style="stop-color:#F0F0F0;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#C0C0C0;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#A0A0A0;stop-opacity:1" />
                        </radialGradient>
                        <radialGradient id="silverInner">
                            <stop offset="0%" style="stop-color:#E8E8E8;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#B8B8B8;stop-opacity:1" />
                        </radialGradient>
                    </defs>
                </svg>
            `;
        }

        function createGoldCoin() {
            return `
                <svg viewBox="0 0 100 100" style="width: 100%; height: 100%;">
                    <!-- Outer decorative circle -->
                    <circle cx="50" cy="50" r="48" fill="url(#goldGrad)" stroke="#B8860B" stroke-width="1"/>
                    
                    <!-- Decorative pattern border -->
                    <circle cx="50" cy="50" r="42" fill="none" stroke="#DAA520" stroke-width="0.5"/>
                    <circle cx="50" cy="50" r="38" fill="none" stroke="#FFD700" stroke-width="1"/>
                    
                    <!-- Inner circle -->
                    <circle cx="50" cy="50" r="35" fill="url(#goldInner)" stroke="#B8860B" stroke-width="1"/>
                    
                    <!-- Dollar symbol -->
                    <text x="50" y="62" font-size="36" font-weight="bold" fill="#8B6914" text-anchor="middle" style="font-family: Arial, sans-serif;">$</text>
                    
                    <!-- Gradients -->
                    <defs>
                        <radialGradient id="goldGrad">
                            <stop offset="0%" style="stop-color:#FFE55C;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#FFD700;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#DAA520;stop-opacity:1" />
                        </radialGradient>
                        <radialGradient id="goldInner">
                            <stop offset="0%" style="stop-color:#FFEB3B;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#FFA500;stop-opacity:1" />
                        </radialGradient>
                        <filter id="goldGlow">
                            <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                            <feMerge>
                                <feMergeNode in="coloredBlur"/>
                                <feMergeNode in="SourceGraphic"/>
                            </feMerge>
                        </filter>
                    </defs>
                </svg>
            `;
        }

        function revealTile(index) {
            if (!gameState.gameActive) {
                if (gameState.balance < gameState.currentBet) {
                    showMessage('Insufficient balance! Please deposit funds.', 'error');
                    return;
                }
                startGame();
            }

            const tiles = document.querySelectorAll('.tile');
            const tile = tiles[index];

            if (tile.classList.contains('revealed')) return;

            tile.classList.remove('unrevealed');
            tile.classList.add('revealed');

            if (gameState.minePositions.includes(index)) {
                // Hit a mine
                tile.classList.add('bomb', 'exploded');
                tile.textContent = 'ðŸ’£';
                gameOver(false);
            } else if (index === gameState.treasurePosition) {
                // Hit treasure - gold coin
                tile.classList.add('treasure');
                tile.innerHTML = createGoldCoin();
                
                // Calculate win based on mines count
                let winAmount = 0;
                if (gameState.minesCount === 1) winAmount = 5;
                else if (gameState.minesCount === 2) winAmount = 15;
                else if (gameState.minesCount === 3) winAmount = 30;
                else if (gameState.minesCount === 4) winAmount = 50;
                else if (gameState.minesCount === 5) winAmount = 75;
                else winAmount = gameState.minesCount * 15;
                
                gameState.currentWin += winAmount;
                showMessage(`+Rs ${winAmount}!`, 'success');
                updateDisplay();
                document.getElementById('cashoutBtn').disabled = false;
            } else {
                // Safe tile - silver coin
                tile.classList.add('coin');
                tile.innerHTML = createSilverCoin();
                gameState.revealedTiles++;
                
                // Calculate win based on mines count
                let winAmount = 0;
                if (gameState.minesCount === 1) winAmount = 5;
                else if (gameState.minesCount === 2) winAmount = 15;
                else if (gameState.minesCount === 3) winAmount = 30;
                else if (gameState.minesCount === 4) winAmount = 50;
                else if (gameState.minesCount === 5) winAmount = 75;
                else winAmount = gameState.minesCount * 15;
                
                gameState.currentWin += winAmount;
                updateDisplay();
                document.getElementById('cashoutBtn').disabled = false;
            }
        }

        function startGame() {
            if (gameState.balance < gameState.currentBet) {
                showMessage('Insufficient balance!', 'error');
                return;
            }

            gameState.balance -= gameState.currentBet;
            gameState.gameActive = true;
            gameState.revealedTiles = 0;
            gameState.currentWin = 0;

            // Place mines randomly
            gameState.minePositions = [];
            while (gameState.minePositions.length < gameState.minesCount) {
                const pos = Math.floor(Math.random() * 25);
                if (!gameState.minePositions.includes(pos)) {
                    gameState.minePositions.push(pos);
                }
            }

            // Place treasure randomly (not on mines)
            do {
                gameState.treasurePosition = Math.floor(Math.random() * 25);
            } while (gameState.minePositions.includes(gameState.treasurePosition));

            updateDisplay();
            showMessage('Game started! Avoid the mines! ðŸ’£', 'info');
        }

        function cashout() {
            if (!gameState.gameActive || gameState.currentWin === 0) return;

            gameState.balance += gameState.currentWin;
            gameState.totalWon += gameState.currentWin;
            
            showMessage(`Cashed out Rs ${gameState.currentWin}! ðŸŽ‰`, 'success');
            
            gameState.currentWin = 0;
            gameState.gameActive = false;
            document.getElementById('cashoutBtn').disabled = true;
            
            updateDisplay();
            revealAllTiles();
        }

        function gameOver(won) {
            gameState.gameActive = false;
            document.getElementById('cashoutBtn').disabled = true;

            if (!won) {
                gameState.totalLost += gameState.currentBet;
                showMessage(`Game Over! Lost Rs ${gameState.currentBet} ðŸ’”`, 'error');
                gameState.currentWin = 0;
            }

            updateDisplay();
            revealAllTiles();
        }

        function revealAllTiles() {
            const tiles = document.querySelectorAll('.tile');
            tiles.forEach((tile, index) => {
                if (!tile.classList.contains('revealed')) {
                    tile.classList.remove('unrevealed');
                    tile.classList.add('revealed');
                    
                    if (gameState.minePositions.includes(index)) {
                        tile.classList.add('bomb');
                        tile.textContent = 'ðŸ’£';
                    } else if (index === gameState.treasurePosition) {
                        tile.classList.add('treasure');
                        tile.innerHTML = createGoldCoin();
                    } else {
                        tile.classList.add('coin');
                        tile.innerHTML = createSilverCoin();
                    }
                }
            });
        }

        function resetGame() {
            gameState.gameActive = false;
            gameState.revealedTiles = 0;
            gameState.currentWin = 0;
            gameState.minePositions = [];
            gameState.treasurePosition = -1;
            
            createGrid();
            updateDisplay();
            document.getElementById('cashoutBtn').disabled = true;
            showMessage('Game reset! Place your bet to start.', 'info');
        }

        function updateDisplay() {
            document.getElementById('balance').textContent = gameState.balance.toFixed(0);
            document.getElementById('currentWin').textContent = gameState.currentWin.toFixed(0);
            document.getElementById('currentBet').textContent = gameState.currentBet;
            document.getElementById('minesCount').textContent = gameState.minesCount;
        }

        function animateJackpot() {
            const jackpotElement = document.getElementById('jackpotAmount');
            setInterval(() => {
                const current = parseFloat(jackpotElement.textContent.replace(',', ''));
                const newAmount = current + (Math.random() * 10);
                jackpotElement.textContent = newAmount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            }, 3000);
        }

        // Modal functions
        function openDepositModal() {
            document.getElementById('depositModal').style.display = 'flex';
        }

        function openWithdrawModal() {
            document.getElementById('withdrawModal').style.display = 'flex';
        }

        function openBetModal() {
            if (gameState.gameActive) {
                showMessage('Cannot change bet during active game!', 'error');
                return;
            }
            document.getElementById('betModal').style.display = 'flex';
            document.getElementById('betAmount').value = gameState.currentBet;
        }

        function openMinesModal() {
            if (gameState.gameActive) {
                showMessage('Cannot change mines during active game!', 'error');
                return;
            }
            document.getElementById('minesModal').style.display = 'flex';
            document.getElementById('minesInput').value = gameState.minesCount;
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function confirmDeposit() {
            const amount = parseFloat(document.getElementById('depositAmount').value);
            if (isNaN(amount) || amount < 100) {
                showMessage('Minimum deposit is Rs 100', 'error');
                return;
            }

            gameState.balance += amount;
            gameState.totalDeposit += amount;
            updateDisplay();
            closeModal('depositModal');
            showMessage(`Successfully deposited Rs ${amount}! ðŸ’°`, 'success');
            document.getElementById('depositAmount').value = '';
        }

        function confirmWithdraw() {
            const amount = parseFloat(document.getElementById('withdrawAmount').value);
            if (isNaN(amount) || amount < 100) {
                showMessage('Minimum withdrawal is Rs 100', 'error');
                return;
            }

            if (amount > gameState.balance) {
                showMessage('Insufficient balance!', 'error');
                return;
            }

            gameState.balance -= amount;
            updateDisplay();
            closeModal('withdrawModal');
            showMessage(`Successfully withdrew Rs ${amount}! ðŸ’¸`, 'success');
            document.getElementById('withdrawAmount').value = '';
        }

        function confirmBet() {
            const amount = parseFloat(document.getElementById('betAmount').value);
            if (isNaN(amount) || amount < 10) {
                showMessage('Minimum bet is Rs 10', 'error');
                return;
            }

            if (amount > 10000) {
                showMessage('Maximum bet is Rs 10,000', 'error');
                return;
            }

            if (amount > gameState.balance) {
                showMessage('Bet amount exceeds balance!', 'error');
                return;
            }

            gameState.currentBet = amount;
            updateDisplay();
            closeModal('betModal');
            showMessage(`Bet set to Rs ${amount}`, 'success');
        }

        function confirmMines() {
            const count = parseInt(document.getElementById('minesInput').value);
            if (isNaN(count) || count < 1 || count > 24) {
                showMessage('Mines must be between 1 and 24', 'error');
                return;
            }

            gameState.minesCount = count;
            updateDisplay();
            closeModal('minesModal');
            showMessage(`Mines set to ${count}`, 'success');
        }

        function showMessage(text, type) {
            const messageEl = document.getElementById('message');
            messageEl.textContent = text;
            messageEl.className = `message ${type}`;
            messageEl.style.display = 'block';

            setTimeout(() => {
                messageEl.style.display = 'none';
            }, 3000);
        }

        // Close modals when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Initialize game on load
        window.onload = initGame;
    </script>
</body>
</html>
